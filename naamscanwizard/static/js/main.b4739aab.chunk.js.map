{"version":3,"sources":["components/ScanWizard.tsx","components/ChooseSubject.tsx","components/Download.tsx","components/CreateReport.tsx","serviceWorker.js","index.js"],"names":["WizardSteps","ChooseSubject","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","stepButtonStatus","subject","name","length","react_default","a","createElement","className","productName","id","placeholder","value","onChange","event","onFieldChange","defineProperty","target","React","Component","Download","watchTimeout","downloadReport","licenseReport","state","reportCreationStatus","startedTime","Date","timedOut","isLicensing","isMailing","emailAddress","console","log","data","sku","licenseKey","licenseId","fileId","setState","componentHandle","jQuery","ajax","type","url","contentType","dataType","JSON","stringify","success","result","error","fileName","downloadFile","serviceUrl","sUrl","isChrome","navigator","userAgent","toLowerCase","indexOf","isSafari","test","alert","link","document","href","undefined","download","substring","lastIndexOf","createEvent","e","initEvent","dispatchEvent","window","open","CreateReport","reportSummary","isGettingReportSummary","isCreatingReport","startReportCreation","licenceKey","_this2","client","setFileId","WizardStepTitles","freeze","WizardApp","token","urlParameter","licensekey","wizardStep","company","address","city","zipcode","country","email","telephone","termsAndConditions","accepted","nextEnabled","prevEnabled","quotation","productId","mobileClient","headerLeft","isRetrievingClient","saveClientInfo","member","stepBack","stepForward","persistSubject","persistClientInformation","persistTermsAndConditionsAcceptance","persistQuotation","setReloadedState","retrieveClientInfo","getProductName","myUrl","location","split","history","pushState","replaceState","innerWidth","css","innerHeight","toString","topOfWizard","offset","scrollTo","top","obj","cleansedMemberPressInfoBlock","html","replace","clientInfo","parse","filledClientInfo","keys","forEach","k","objectSpread","ChooseSubject_ChooseSubject","CreateReport_CreateReport","Download_Download","onClick","disabled","_this3","newHeaderLeft","_this4","nextStep","newValue","subjectField","newSubject","clientInformationField","newState","newClientInformation","termsAndConditionsAcceptanceField","newTermsAndConditionsAcceptance","quotationField","newQuotation","newClient","_this5","clientID","results","_this6","clientDetails","_this7","productID","newProductName","productname","RegExp","exec","search","decodeURIComponent","Boolean","hostname","match","ReactDOM","render","ScanWizard","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.b4739aab.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport jQuery from \"jquery\";\r\n//import logo from './logo.svg';\r\nimport '../css/App.css';\r\nimport '../css/linearicons.css'\r\nimport ChooseSubject, { Subject } from './ChooseSubject'\r\nimport ClientInformation, { Client } from './ClientInformation'\r\nimport Payment from './Payment'\r\nimport Download from './Download'\r\nimport { KeyValue } from '../types/index'\r\nimport TermsAndConditionsAcceptance, { TermsAndConditions } from './TermsAndConditionsAcceptance';\r\nimport CreateReport from './CreateReport';\r\nimport { fileURLToPath } from 'url';\r\n\r\n\r\nexport enum WizardSteps {\r\n  ChooseSubject,\r\n  // ClientInformation,\r\n  // TermsAndConditionsAcceptance,\r\n  // Payment,\r\n  CreateReport,\r\n  Download\r\n}\r\n\r\nexport interface WizardAppState {\r\n  wizardStep: WizardSteps;\r\n  nextEnabled: boolean;\r\n  prevEnabled: boolean;\r\n  subject: Subject;\r\n  client: Client;\r\n  termsAndConditions: TermsAndConditions;\r\n  fileId:string;\r\n  \r\n  quotation: {\r\n    token: string | null;\r\n    productId: string | null;\r\n    productName: string | null;\r\n    licenseKey: string | null;\r\n  }\r\n\r\n  mobileClient: boolean\r\n  headerLeft: number;\r\n  isRetrievingClient: boolean;\r\n  saveClientInfo: boolean;\r\n  member: boolean;\r\n}\r\n\r\nexport interface WizardAppProps {\r\n\r\n}\r\n\r\nvar WizardStepTitles = { \r\n  0: \"Persoon of bedrijf \", \r\n  1: \"Uw gegevens\", \r\n  2: \"Algemene voorwaarden\", \r\n  3: \"Betaling\", \r\n  4: \"Download rapport\", \r\n  5: \"Maak rapport\"}\r\n\r\nObject.freeze(WizardSteps)\r\n\r\nclass WizardApp extends React.Component<WizardAppProps, WizardAppState> {\r\n  constructor(props: WizardAppProps) {\r\n    super(props);\r\n    let token = this.urlParameter(\"token\")\r\n    let productId = this.urlParameter(\"productId\")\r\n    let sku=this.urlParameter(\"sku\")\r\n    let licensekey=this.urlParameter(\"licensekey\")\r\n    console.log (\"SKU:\",sku)\r\n    console.log (\"licensekey:\",licensekey)\r\n\r\n    this.state = {\r\n      // wizardStep: token == null ? WizardSteps.ChooseSubject : WizardSteps.Payment,\r\n      wizardStep:WizardSteps.ChooseSubject,\r\n      subject: {\r\n        name: \"\",\r\n      },\r\n      client: {\r\n        id: \"\",\r\n        name: \"\",\r\n        company: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        zipcode: \"\",\r\n        country: \"\",\r\n        email: \"\",\r\n        telephone: \"\"\r\n      },\r\n      termsAndConditions: {\r\n        accepted: false,\r\n      },\r\n      nextEnabled: false,\r\n      prevEnabled: false,\r\n      quotation: {\r\n        productId: sku,\r\n        productName: \"\",\r\n        token: token,\r\n        licenseKey: licensekey\r\n      },\r\n      mobileClient: false,\r\n      headerLeft: 0,\r\n      isRetrievingClient: false,\r\n      saveClientInfo: true,\r\n      member: true,\r\n      fileId:\"\"\r\n    }\r\n\r\n    this.stepBack = this.stepBack.bind(this);\r\n    this.stepForward = this.stepForward.bind(this);\r\n    this.persistSubject = this.persistSubject.bind(this);\r\n    this.persistClientInformation = this.persistClientInformation.bind(this);\r\n    this.persistTermsAndConditionsAcceptance = this.persistTermsAndConditionsAcceptance.bind(this);\r\n    this.persistQuotation = this.persistQuotation.bind(this);\r\n    this.setReloadedState = this.setReloadedState.bind(this);\r\n    this.stepButtonStatus = this.stepButtonStatus.bind(this);\r\n    this.retrieveClientInfo = this.retrieveClientInfo.bind(this);\r\n    this.getProductName = this.getProductName.bind(this);\r\n    this.setFileId = this.setFileId.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let myUrl = window.location.href.split(\"?\")[0]\r\n    history.pushState('data to be passed', 'Title of the page', myUrl);\r\n    history.replaceState('data to be passed', 'Title of the page', myUrl);\r\n\r\n    let width = window.innerWidth\r\n    if (width < 600) {\r\n      jQuery(\".App-main\").css(\"height\", ((window.innerHeight - 132).toString()) + \"px\")\r\n      this.setState({ mobileClient: true }, () => {\r\n        let topOfWizard = jQuery(\".App-header\").offset()\r\n        if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n      })\r\n    };\r\n    \r\n    let memberPressInfoBlock=jQuery(\"#MYINFO\").html()\r\n    let cleansedMemberPressInfoBlock=memberPressInfoBlock.replace (/[”|“|″]/g,\"\\\"\")\r\n    let clientInfo=JSON.parse(cleansedMemberPressInfoBlock)\r\n\r\n    const removeEmpty = (obj:any) => {\r\n      Object.keys(obj).forEach((k) => (!obj[k] && obj[k] !== undefined) && delete obj[k]);\r\n      return obj;\r\n    };\r\n\r\n    let filledClientInfo=removeEmpty(clientInfo)\r\n\r\n    let client = { ...this.state.client, ...filledClientInfo}\r\n    this.setState({ ...this.state, client: client }, () => {\r\n      this.retrieveClientInfo();\r\n    })\r\n    if (this.state.quotation.productId) {\r\n      this.getProductName(this.state.quotation.productId);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    console.log(\"AppState:\", this.state)\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.ChooseSubject ? \" active\" : \" inactive\")}><span>{WizardStepTitles[0]}</span></div>\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.CreateReport ? \" active\" : \" inactive\")}><span>{WizardStepTitles[5]}</span></div>\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.Download ? \" active\" : \" inactive\")}><span>{WizardStepTitles[4]}</span></div>\r\n        </header>\r\n\r\n        <div className=\"App-main\">\r\n\r\n          {(this.state.wizardStep === WizardSteps.ChooseSubject) && <ChooseSubject\r\n            subject={this.state.subject}\r\n            productName={this.state.quotation.productName}\r\n            onFieldChange={this.persistSubject}\r\n            stepButtonStatus={this.stepButtonStatus} />}\r\n\r\n          {this.state.wizardStep === WizardSteps.CreateReport && <CreateReport\r\n            subject={this.state.subject}\r\n            licenceKey={this.state.quotation.licenseKey}\r\n            sku={this.state.quotation.productId}\r\n            client={this.state.client}\r\n            stepButtonStatus={this.stepButtonStatus}\r\n            setFileId={this.setFileId}\r\n          />}\r\n\r\n          {this.state.wizardStep === WizardSteps.Download && \r\n            <Download \r\n            fileId={this.state.fileId} \r\n            licenseId={this.state.quotation.licenseKey} \r\n            sku={this.state.quotation.productId}\r\n            emailAddress={this.state.client.email}/>}\r\n        </div>\r\n        <footer className=\"App-footer\">\r\n          <div className=\"stepButtons\">\r\n            <button\r\n              className={\"stepButtonleft \" + ((this.state.wizardStep > WizardSteps.ChooseSubject) ? \"\" : \"hide\")}\r\n              onClick={this.stepBack}\r\n              disabled={(!this.state.prevEnabled)}>\r\n              <span className=\"lnr lnr-arrow-left\" /> Terug\r\n            </button>\r\n            <button className={\"stepButtonright \" + ((this.state.wizardStep < WizardSteps.Download) ? \"\" : \"hide\")}\r\n              onClick={this.stepForward}\r\n              disabled={(!this.state.nextEnabled)}>\r\n              Volgende <span className=\"lnr lnr-arrow-right\" />\r\n            </button>\r\n          </div>\r\n        </footer>\r\n        <div className=\"nonBlocking\">\r\n          NAAMSCAN.NL\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n\r\n  stepBack() {\r\n    if (this.state.wizardStep > 0) {\r\n      this.setState({ wizardStep: this.state.wizardStep - 1 })\r\n      if (this.state.mobileClient) {\r\n        var newHeaderLeft = (this.state.headerLeft + 100)\r\n        this.setState({ headerLeft: newHeaderLeft }, () => {\r\n          jQuery(\".App-header\").css('left', (this.state.headerLeft.toString()) + 'px')\r\n        })\r\n      }\r\n    }\r\n    if (this.state.mobileClient) {\r\n      let topOfWizard = jQuery(\".App-header\").offset()\r\n      if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n    }\r\n  }\r\n\r\n  stepForward() {\r\n    if (this.state.wizardStep < Object.keys(WizardSteps).length) {\r\n      let nextStep = this.state.wizardStep + 1\r\n\r\n      this.setState({ wizardStep: nextStep })\r\n      if (this.state.mobileClient) {\r\n        var newHeaderLeft = (this.state.headerLeft - 100)\r\n        this.setState({ headerLeft: newHeaderLeft }, () => {\r\n          jQuery(\".App-header\").css('left', (this.state.headerLeft.toString()) + 'px')\r\n        })\r\n      }\r\n    }\r\n    if (this.state.mobileClient) {\r\n      let topOfWizard = jQuery(\".App-header\").offset()\r\n      if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n    }\r\n  }\r\n\r\n  stepButtonStatus(prevEnabled: boolean, nextEnabled: boolean) {\r\n    console.log(\"BUTTONSTATUS CHANGING:\", prevEnabled, \"-\", nextEnabled)\r\n    this.setState({\r\n      prevEnabled: prevEnabled,\r\n      nextEnabled: nextEnabled\r\n    })\r\n  }\r\n\r\n  persistSubject(newValue: KeyValue) {\r\n    let subjectField = Object.keys(newValue)[0]\r\n    let newSubject = { ...this.state.subject, [subjectField]: newValue[subjectField] }\r\n    this.setState({ ...this.state, subject: newSubject })\r\n  }\r\n\r\n  persistClientInformation(newValue: KeyValue) {\r\n    let clientInformationField = Object.keys(newValue)[0]\r\n    if (clientInformationField === \"save\") {\r\n      let newState = { ...this.state, saveClientInfo: newValue[clientInformationField] === 'true' }\r\n      this.setState(newState)\r\n    }\r\n    else {\r\n      let newClientInformation = { ...this.state.client, [clientInformationField]: newValue[clientInformationField] }\r\n      this.setState({ ...this.state, client: newClientInformation })\r\n    }\r\n  }\r\n\r\n\r\n  persistTermsAndConditionsAcceptance(newValue: KeyValue) {\r\n    let termsAndConditionsAcceptanceField = Object.keys(newValue)[0]\r\n    let newTermsAndConditionsAcceptance = { ...this.state.termsAndConditions, [termsAndConditionsAcceptanceField]: newValue[termsAndConditionsAcceptanceField] }\r\n    this.setState({ ...this.state, termsAndConditions: newTermsAndConditionsAcceptance })\r\n  }\r\n\r\n  persistQuotation(newValue: KeyValue) {\r\n    let quotationField = Object.keys(newValue)[0]\r\n    let newQuotation = { ...this.state.quotation, [quotationField]: newValue[quotationField] }\r\n    this.setState({ ...this.state, quotation: newQuotation })\r\n\r\n  }\r\n\r\n  setReloadedState(email: string) {\r\n    let newQuotation = { ...this.state.quotation}\r\n    let newClient = { ...this.state.client, email: email }\r\n    this.setState({\r\n      ...this.state,\r\n      quotation: newQuotation,\r\n      client: newClient,\r\n    })\r\n  }\r\n\r\n\r\n  retrieveClientInfo() {\r\n    let data = {\r\n      clientID: this.state.client.id\r\n    }\r\n\r\n    if (!this.state.isRetrievingClient) {\r\n      this.setState({\r\n        isRetrievingClient: true\r\n      })\r\n      console.log(\"START RETRIEVE CLIENT\")\r\n      jQuery.ajax({\r\n        type: \"POST\",\r\n        url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/getCustomerDetails\",\r\n        contentType: \"application/json; charset=utf-8\",\r\n        dataType: \"json\",\r\n        data: JSON.stringify(data),\r\n        success: (results) => {\r\n          console.log(\"retrievedClient:\", results)\r\n          if (results) {\r\n            let newClient = { ...this.state.client, ...results }\r\n            this.setState({\r\n              ...this.state, client: newClient, isRetrievingClient: false, member: true\r\n            });\r\n          }\r\n          else {\r\n            this.setState({\r\n              ...this.state, member: false\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  saveClientInfo() {\r\n    let data = {\r\n      clientID: this.state.client.id,\r\n      clientDetails: this.state.client,\r\n    }\r\n    console.log(\"START SAVE CLIENT\")\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/saveCustomerDetails\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (results) => {\r\n        console.log(\"retrievedClient:\", results)\r\n        let newClient = { ...this.state.client, ...results }\r\n        this.setState({\r\n          ...this.state, client: newClient, isRetrievingClient: false\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  getProductName(productId:string) {\r\n    console.log (\"Getting ProductName\")\r\n    let data={\r\n      productID:productId\r\n    }\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/getProductName\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (results) => {\r\n        console.log(\"productName:\", results)\r\n        let newProductName={productName:results.productname}\r\n        let newQuotation={...this.state.quotation, ...newProductName}\r\n        this.setState({\r\n          ...this.state, quotation: newQuotation\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  setFileId(id:string) {\r\n    this.setState ({\r\n      fileId:id\r\n    })\r\n\r\n  }\r\n\r\n  urlParameter(name: string) {\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\r\n      results = regex.exec(location.search);\r\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n  }\r\n}\r\nexport default WizardApp;\r\n","import React from 'react';\r\nimport jQuery from \"jquery\";\r\nimport \"../css/App.css\";\r\nimport { KeyValue } from '../types/index'\r\n\r\nexport interface Subject {\r\n  name: string;\r\n}\r\n\r\nexport interface ChooseSubjectProps {\r\n  subject: Subject;\r\n  productName:string|null;\r\n  onFieldChange(event: KeyValue): void;\r\n  stepButtonStatus(prevStatus: boolean, nextStatus: boolean): void\r\n}\r\n\r\nexport default class ChooseSubject extends React.Component<ChooseSubjectProps, {}> {\r\n  constructor(props: ChooseSubjectProps) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stepButtonStatus(false, (this.props.subject.name.length > 2));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"formContainer\">\r\n        <h2><div className=\"productName\">{this.props.productName}</div></h2>\r\n        <input id=\"name\" placeholder=\"persoon of bedrijf\"\r\n          value={this.props.subject.name} onChange={this.handleChange} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange(event: (React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLSelectElement>)): void {\r\n    this.props.onFieldChange({ [event.target.id]: event.target.value })\r\n    this.props.stepButtonStatus(false, (event.target.value.length > 2));\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport jQuery from \"jquery\";\r\nimport { Client } from './ClientInformation';\r\nimport { isNull } from 'util';\r\n\r\nexport interface DownloadProps {\r\n  fileId: string;\r\n  licenseId: string | null;\r\n  sku: string | null;\r\n  emailAddress: string;\r\n}\r\n\r\nexport interface DownloadState {\r\n  reportCreationStatus: string;\r\n  startedTime: Date;\r\n  timedOut: boolean;\r\n  isLicensing: boolean;\r\n  isMailing: boolean;\r\n}\r\n\r\n\r\nexport default class Download extends Component<DownloadProps, DownloadState> {\r\n\r\n  watchTimeout: any;\r\n\r\n  constructor(props: DownloadProps) {\r\n    super(props)\r\n    this.downloadReport = this.downloadReport.bind(this)\r\n    this.licenseReport = this.licenseReport.bind(this)\r\n    this.state = {\r\n      reportCreationStatus: \"paid\",\r\n      startedTime: new Date(),\r\n      timedOut: false,\r\n      isLicensing: false,\r\n      isMailing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.licenseReport()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"DownloadForm\">\r\n        Rapport Downloaden\r\n          {this.state.isLicensing && <div>\r\n          <div className=\"paymentComponent\">Uw rapport wordt gelicenseerd...</div>\r\n          <div className=\"lds-dual-ring\"></div>\r\n          </div>\r\n          }\r\n          {this.state.isMailing && <div>\r\n          <div className=\"paymentComponent\">Uw rapport wordt nu gedownload en gemaild naar: {this.props.emailAddress}</div>\r\n          </div>\r\n          }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  licenseReport() {\r\n    console.log(\"Start Report Creation\")\r\n    let data = {\r\n      sku: this.props.sku,\r\n      licenseKey: this.props.licenseId,\r\n      id: this.props.fileId\r\n    }\r\n    this.setState({ isLicensing: true });\r\n\r\n    let componentHandle = this\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/licenseReport\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (result) => {\r\n        console.log(\"RESULT:\", result)\r\n        componentHandle.setState({\r\n          isLicensing: false,\r\n          isMailing: result.result === \"success\"\r\n        })\r\n        if (result.result === \"success\") {\r\n          console.log(\"Start DownLoad\")\r\n          componentHandle.downloadReport()\r\n        }\r\n      },\r\n\r\n\r\n      error: (error) => {\r\n        console.log(error)\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  downloadReport() {\r\n    let serviceUrl = \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/downLoadReport\"\r\n    let fileName = this.props.fileId\r\n    this.downloadFile(serviceUrl + \"?id=\" + fileName + \"&emailAddress=\" + this.props.emailAddress)\r\n  }\r\n\r\n  downloadFile(sUrl: string) {\r\n    const isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n    const isSafari = navigator.userAgent.toLowerCase().indexOf('safari') > -1;\r\n\r\n    //iOS devices do not support downloading. We have to inform user about this.\r\n    if (/(iP)/g.test(navigator.userAgent)) {\r\n      alert('Your device does not support files downloading. Please try again in desktop browser.');\r\n      return false;\r\n    }\r\n    //If in Chrome or Safari - download via virtual link click\r\n    if (isChrome || isSafari) {\r\n      //Creating new link node.\r\n      var link = document.createElement('a');\r\n      link.href = sUrl;\r\n\r\n      if (link.download !== undefined) {\r\n        //Set HTML5 download attribute. This will prevent file from opening if supported.\r\n        var fileName = sUrl.substring(sUrl.lastIndexOf('/') + 1, sUrl.length);\r\n        link.download = fileName;\r\n      }\r\n\r\n      //Dispatching click event.\r\n      if (document.createEvent) {\r\n        var e = document.createEvent('MouseEvents');\r\n        debugger;\r\n        e.initEvent('click', true, true);\r\n        link.dispatchEvent(e);\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // Force file download (whether supported by server).\r\n    if (sUrl.indexOf('?') === -1) {\r\n      sUrl += '?download';\r\n    }\r\n\r\n    window.open(sUrl, '_self');\r\n    return true;\r\n\r\n  }\r\n\r\n\r\n}","import React, { Component } from 'react';\r\nimport \"../css/App.css\";\r\nimport jQuery from \"jquery\";\r\nimport { Subject } from './ChooseSubject';\r\nimport { Client } from './ClientInformation';\r\nimport { KeyValue } from '../types';\r\n\r\n\r\nexport interface ReportSummary {\r\n  token:string;\r\n  clientInfo: string;\r\n  subjectInfo: string;\r\n  productInfo: string;\r\n  voucherInfo: string;\r\n  subTotal: number;\r\n  tax: number;\r\n  total:number;\r\n}\r\n\r\nexport interface CreateReportProps {\r\n  subject: Subject;\r\n  sku:string|null;\r\n  client: Client;\r\n  licenceKey:string|null;\r\n  stepButtonStatus(prevStatus: boolean, nextStatus: boolean): void;\r\n  setFileId(id:string):void;\r\n}\r\n\r\nexport interface CreateReportState {\r\n  reportSummary: ReportSummary | null;\r\n  isGettingReportSummary:boolean;\r\n  isCreatingReport:boolean;\r\n  fileId:string;\r\n}\r\n\r\nexport default class CreateReport extends Component<CreateReportProps, CreateReportState> {\r\n  watchTimeout: any;\r\n  constructor(props: CreateReportProps) {\r\n    super(props)\r\n    this.state = {\r\n      reportSummary:null,\r\n      isGettingReportSummary:false,\r\n      isCreatingReport:false,\r\n      fileId:\"\"\r\n    }\r\n    this.startReportCreation = this.startReportCreation.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stepButtonStatus(true, false)\r\n    this.startReportCreation()\r\n    //  this.getQuotation(this.props)\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Payment component State :\", this.state)\r\n    console.log(\"Payment component Props :\", this.props)\r\n    let key = 0;\r\n    return (\r\n      <div>\r\n        {this.state.isCreatingReport && <div>\r\n          <div className=\"paymentComponent\">Uw rapport wordt gegenereerd...</div>\r\n          <div className=\"lds-dual-ring\"></div>\r\n          </div>\r\n        }\r\n        {this.state.fileId!==\"\" && !this.state.isCreatingReport && <div>\r\n          Uw rapport is gecreeerd. <br></br>\r\n          De volgende licentiekey wordt gebruikt voor het downloaden<br></br>\r\n          {this.props.licenceKey}\r\n        </div>}\r\n      \r\n    </div>\r\n    );\r\n  }\r\n\r\n\r\n  startReportCreation(){\r\n    console.log (\"Start Report Creation\")\r\n    let data={\r\n      sku:this.props.sku,\r\n      subject:this.props.subject.name,\r\n      client:this.props.client\r\n    }\r\n    this.setState({isCreatingReport:true})\r\n\r\n    let componentHandle = this\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/startReportCreation\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (result) => {\r\n        console.log(result)\r\n        componentHandle.setState({\r\n          isCreatingReport:false,\r\n          fileId:result.id\r\n        },()=>{\r\n          this.props.setFileId(this.state.fileId)\r\n        })\r\n        this.props.stepButtonStatus(false,true)\r\n      },\r\n\r\n      error: (error) => {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport WizardApp from './components/ScanWizard';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<WizardApp />, document.getElementById('reactRoot'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}