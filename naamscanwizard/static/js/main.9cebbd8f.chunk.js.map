{"version":3,"sources":["components/ScanWizard.tsx","components/ChooseSubject.tsx","components/Download.tsx","components/CreateReport.tsx","serviceWorker.js","index.js"],"names":["WizardSteps","ChooseSubject","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleChange","bind","assertThisInitialized","stepButtonStatus","subject","name","length","react_default","a","createElement","className","productName","id","placeholder","value","onChange","event","onFieldChange","defineProperty","target","React","Component","Download","watchTimeout","downloadReport","licenseReport","state","reportCreationStatus","startedTime","Date","timedOut","isLicensing","isMailing","emailAddress","console","log","data","sku","licenseKey","licenseId","fileId","email","setState","componentHandle","jQuery","ajax","type","url","contentType","dataType","JSON","stringify","success","result","error","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","view","testMobile","serviceUrl","reportUrl","window","open","downloadFile","sUrl","isChrome","toLowerCase","indexOf","isSafari","test","alert","link","document","href","undefined","download","fileName","substring","lastIndexOf","createEvent","e","initEvent","dispatchEvent","CreateReport","reportSummary","isGettingReportSummary","isCreatingReport","startReportCreation","licenceKey","_this2","client","setFileId","WizardStepTitles","freeze","WizardApp","token","urlParameter","licensekey","wizardStep","company","address","city","zipcode","country","telephone","termsAndConditions","accepted","nextEnabled","prevEnabled","quotation","productId","mobileClient","headerLeft","isRetrievingClient","saveClientInfo","member","stepBack","stepForward","persistSubject","persistClientInformation","persistTermsAndConditionsAcceptance","persistQuotation","setReloadedState","retrieveClientInfo","getProductName","myUrl","location","split","history","pushState","replaceState","innerWidth","css","innerHeight","toString","topOfWizard","offset","scrollTo","top","ChooseSubject_ChooseSubject","CreateReport_CreateReport","Download_Download","onClick","disabled","newHeaderLeft","_this3","keys","nextStep","newValue","subjectField","newSubject","objectSpread","clientInformationField","newState","newClientInformation","termsAndConditionsAcceptanceField","newTermsAndConditionsAcceptance","quotationField","newQuotation","newClient","_this4","clientID","results","_this5","clientDetails","_this6","productID","newProductName","productname","replace","RegExp","exec","search","decodeURIComponent","Boolean","hostname","ReactDOM","render","ScanWizard","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.9cebbd8f.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport jQuery from \"jquery\";\r\n//import logo from './logo.svg';\r\nimport '../css/App.css';\r\nimport '../css/linearicons.css'\r\nimport ChooseSubject, { Subject } from './ChooseSubject'\r\nimport Payment from './Payment'\r\nimport Download from './Download'\r\nimport { KeyValue } from '../types/index'\r\nimport TermsAndConditionsAcceptance, { TermsAndConditions } from './TermsAndConditionsAcceptance';\r\nimport CreateReport from './CreateReport';\r\nimport { fileURLToPath } from 'url';\r\n\r\nexport interface Client {\r\n  id:string;\r\n  name: string|null;\r\n  company: string;\r\n  address: string;\r\n  city: string;\r\n  country: string;\r\n  zipcode: string;\r\n  email: string|null;\r\n  telephone: string;\r\n}\r\n\r\nexport enum WizardSteps {\r\n  ChooseSubject,\r\n  // ClientInformation,\r\n  // TermsAndConditionsAcceptance,\r\n  // Payment,\r\n  CreateReport,\r\n  Download\r\n}\r\n\r\nexport interface WizardAppState {\r\n  wizardStep: WizardSteps;\r\n  nextEnabled: boolean;\r\n  prevEnabled: boolean;\r\n  subject: Subject;\r\n  client: Client;\r\n  termsAndConditions: TermsAndConditions;\r\n  fileId:string;\r\n  \r\n  quotation: {\r\n    token: string | null;\r\n    productId: string | null;\r\n    productName: string | null;\r\n    licenseKey: string | null;\r\n  }\r\n\r\n  mobileClient: boolean\r\n  headerLeft: number;\r\n  isRetrievingClient: boolean;\r\n  saveClientInfo: boolean;\r\n  member: boolean;\r\n}\r\n\r\nexport interface WizardAppProps {\r\n\r\n}\r\n\r\nvar WizardStepTitles = { \r\n  0: \"Persoon of bedrijf \", \r\n  1: \"Uw gegevens\", \r\n  2: \"Algemene voorwaarden\", \r\n  3: \"Betaling\", \r\n  4: \"Download rapport\", \r\n  5: \"Maak rapport\"}\r\n\r\nObject.freeze(WizardSteps)\r\n\r\nclass WizardApp extends React.Component<WizardAppProps, WizardAppState> {\r\n  constructor(props: WizardAppProps) {\r\n    super(props);\r\n    let token = this.urlParameter(\"token\")\r\n    let productId = this.urlParameter(\"productId\")\r\n    let sku=this.urlParameter(\"sku\")\r\n    let licensekey=this.urlParameter(\"licensekey\")\r\n    let email=this.urlParameter(\"email\")\r\n    let name=this.urlParameter(\"fullname\")\r\n    console.log (\"SKU:\",sku)\r\n    console.log (\"licensekey:\",licensekey)\r\n\r\n    this.state = {\r\n      // wizardStep: token == null ? WizardSteps.ChooseSubject : WizardSteps.Payment,\r\n      wizardStep:WizardSteps.ChooseSubject,\r\n      subject: {\r\n        name: \"\",\r\n      },\r\n      client: {\r\n        id: \"\",\r\n        name: name,\r\n        company: \"\",\r\n        address: \"\",\r\n        city: \"\",\r\n        zipcode: \"\",\r\n        country: \"\",\r\n        email: email,\r\n        telephone: \"\"\r\n      },\r\n      termsAndConditions: {\r\n        accepted: false,\r\n      },\r\n      nextEnabled: false,\r\n      prevEnabled: false,\r\n      quotation: {\r\n        productId: sku,\r\n        productName: \"\",\r\n        token: token,\r\n        licenseKey: licensekey\r\n      },\r\n      mobileClient: false,\r\n      headerLeft: 0,\r\n      isRetrievingClient: false,\r\n      saveClientInfo: true,\r\n      member: true,\r\n      fileId:\"\"\r\n    }\r\n\r\n    this.stepBack = this.stepBack.bind(this);\r\n    this.stepForward = this.stepForward.bind(this);\r\n    this.persistSubject = this.persistSubject.bind(this);\r\n    this.persistClientInformation = this.persistClientInformation.bind(this);\r\n    this.persistTermsAndConditionsAcceptance = this.persistTermsAndConditionsAcceptance.bind(this);\r\n    this.persistQuotation = this.persistQuotation.bind(this);\r\n    this.setReloadedState = this.setReloadedState.bind(this);\r\n    this.stepButtonStatus = this.stepButtonStatus.bind(this);\r\n    this.retrieveClientInfo = this.retrieveClientInfo.bind(this);\r\n    this.getProductName = this.getProductName.bind(this);\r\n    this.setFileId = this.setFileId.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    let myUrl = window.location.href.split(\"?\")[0]\r\n    history.pushState('data to be passed', 'Title of the page', myUrl);\r\n    history.replaceState('data to be passed', 'Title of the page', myUrl);\r\n\r\n    let width = window.innerWidth\r\n    if (width < 600) {\r\n      jQuery(\".App-main\").css(\"height\", ((window.innerHeight - 132).toString()) + \"px\")\r\n      this.setState({ mobileClient: true }, () => {\r\n        let topOfWizard = jQuery(\".App-header\").offset()\r\n        if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n      })\r\n    };\r\n\r\n    if (this.state.quotation.productId) {\r\n      this.getProductName(this.state.quotation.productId);\r\n    }\r\n\r\n  }\r\n\r\n  render() {\r\n    console.log(\"AppState:\", this.state)\r\n    return (\r\n      <div className=\"App\">\r\n        <header className=\"App-header\">\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.ChooseSubject ? \" active\" : \" inactive\")}><span>{WizardStepTitles[0]}</span></div>\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.CreateReport ? \" active\" : \" inactive\")}><span>{WizardStepTitles[5]}</span></div>\r\n          <div className={\"chevron\" + (this.state.wizardStep == WizardSteps.Download ? \" active\" : \" inactive\")}><span>{WizardStepTitles[4]}</span></div>\r\n        </header>\r\n\r\n        <div className=\"App-main\">\r\n\r\n          {(this.state.wizardStep === WizardSteps.ChooseSubject) && <ChooseSubject\r\n            subject={this.state.subject}\r\n            productName={this.state.quotation.productName}\r\n            onFieldChange={this.persistSubject}\r\n            stepButtonStatus={this.stepButtonStatus} />}\r\n\r\n          {this.state.wizardStep === WizardSteps.CreateReport && <CreateReport\r\n            subject={this.state.subject}\r\n            licenceKey={this.state.quotation.licenseKey}\r\n            sku={this.state.quotation.productId}\r\n            client={this.state.client}\r\n            stepButtonStatus={this.stepButtonStatus}\r\n            setFileId={this.setFileId}\r\n          />}\r\n\r\n          {this.state.wizardStep === WizardSteps.Download && \r\n            <Download \r\n            fileId={this.state.fileId} \r\n            licenseId={this.state.quotation.licenseKey} \r\n            sku={this.state.quotation.productId}\r\n            emailAddress={this.state.client.email}/>}\r\n        </div>\r\n        <footer className=\"App-footer\">\r\n          <div className=\"stepButtons\">\r\n            <button\r\n              className={\"stepButtonleft \" + ((this.state.wizardStep > WizardSteps.ChooseSubject) ? \"\" : \"hide\")}\r\n              onClick={this.stepBack}\r\n              disabled={(!this.state.prevEnabled)}>\r\n              <span className=\"lnr lnr-arrow-left\" /> Terug\r\n            </button>\r\n            <button className={\"stepButtonright \" + ((this.state.wizardStep < WizardSteps.Download) ? \"\" : \"hide\")}\r\n              onClick={this.stepForward}\r\n              disabled={(!this.state.nextEnabled)}>\r\n              Volgende <span className=\"lnr lnr-arrow-right\" />\r\n            </button>\r\n          </div>\r\n        </footer>\r\n        <div className=\"nonBlocking\">\r\n          NAAMSCAN.NL\r\n        </div>\r\n      </div >\r\n    );\r\n  }\r\n\r\n  stepBack() {\r\n    if (this.state.wizardStep > 0) {\r\n      this.setState({ wizardStep: this.state.wizardStep - 1 })\r\n      if (this.state.mobileClient) {\r\n        var newHeaderLeft = (this.state.headerLeft + 100)\r\n        this.setState({ headerLeft: newHeaderLeft }, () => {\r\n          jQuery(\".App-header\").css('left', (this.state.headerLeft.toString()) + 'px')\r\n        })\r\n      }\r\n    }\r\n    if (this.state.mobileClient) {\r\n      let topOfWizard = jQuery(\".App-header\").offset()\r\n      if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n    }\r\n  }\r\n\r\n  stepForward() {\r\n    if (this.state.wizardStep < Object.keys(WizardSteps).length) {\r\n      let nextStep = this.state.wizardStep + 1\r\n\r\n      this.setState({ wizardStep: nextStep })\r\n      if (this.state.mobileClient) {\r\n        var newHeaderLeft = (this.state.headerLeft - 100)\r\n        this.setState({ headerLeft: newHeaderLeft }, () => {\r\n          jQuery(\".App-header\").css('left', (this.state.headerLeft.toString()) + 'px')\r\n        })\r\n      }\r\n    }\r\n    if (this.state.mobileClient) {\r\n      let topOfWizard = jQuery(\".App-header\").offset()\r\n      if (topOfWizard) { window.scrollTo(0, topOfWizard.top) }\r\n    }\r\n  }\r\n\r\n  stepButtonStatus(prevEnabled: boolean, nextEnabled: boolean) {\r\n    console.log(\"BUTTONSTATUS CHANGING:\", prevEnabled, \"-\", nextEnabled)\r\n    this.setState({\r\n      prevEnabled: prevEnabled,\r\n      nextEnabled: nextEnabled\r\n    })\r\n  }\r\n\r\n  persistSubject(newValue: KeyValue) {\r\n    let subjectField = Object.keys(newValue)[0]\r\n    let newSubject = { ...this.state.subject, [subjectField]: newValue[subjectField] }\r\n    this.setState({ ...this.state, subject: newSubject })\r\n  }\r\n\r\n  persistClientInformation(newValue: KeyValue) {\r\n    let clientInformationField = Object.keys(newValue)[0]\r\n    if (clientInformationField === \"save\") {\r\n      let newState = { ...this.state, saveClientInfo: newValue[clientInformationField] === 'true' }\r\n      this.setState(newState)\r\n    }\r\n    else {\r\n      let newClientInformation = { ...this.state.client, [clientInformationField]: newValue[clientInformationField] }\r\n      this.setState({ ...this.state, client: newClientInformation })\r\n    }\r\n  }\r\n\r\n\r\n  persistTermsAndConditionsAcceptance(newValue: KeyValue) {\r\n    let termsAndConditionsAcceptanceField = Object.keys(newValue)[0]\r\n    let newTermsAndConditionsAcceptance = { ...this.state.termsAndConditions, [termsAndConditionsAcceptanceField]: newValue[termsAndConditionsAcceptanceField] }\r\n    this.setState({ ...this.state, termsAndConditions: newTermsAndConditionsAcceptance })\r\n  }\r\n\r\n  persistQuotation(newValue: KeyValue) {\r\n    let quotationField = Object.keys(newValue)[0]\r\n    let newQuotation = { ...this.state.quotation, [quotationField]: newValue[quotationField] }\r\n    this.setState({ ...this.state, quotation: newQuotation })\r\n\r\n  }\r\n\r\n  setReloadedState(email: string) {\r\n    let newQuotation = { ...this.state.quotation}\r\n    let newClient = { ...this.state.client, email: email }\r\n    this.setState({\r\n      ...this.state,\r\n      quotation: newQuotation,\r\n      client: newClient,\r\n    })\r\n  }\r\n\r\n\r\n  retrieveClientInfo() {\r\n    let data = {\r\n      clientID: this.state.client.id\r\n    }\r\n\r\n    if (!this.state.isRetrievingClient) {\r\n      this.setState({\r\n        isRetrievingClient: true\r\n      })\r\n      console.log(\"START RETRIEVE CLIENT\")\r\n      jQuery.ajax({\r\n        type: \"POST\",\r\n        url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/getCustomerDetails\",\r\n        contentType: \"application/json; charset=utf-8\",\r\n        dataType: \"json\",\r\n        data: JSON.stringify(data),\r\n        success: (results) => {\r\n          console.log(\"retrievedClient:\", results)\r\n          if (results) {\r\n            let newClient = { ...this.state.client, ...results }\r\n            this.setState({\r\n              ...this.state, client: newClient, isRetrievingClient: false, member: true\r\n            });\r\n          }\r\n          else {\r\n            this.setState({\r\n              ...this.state, member: false\r\n            })\r\n          }\r\n        }\r\n      })\r\n    }\r\n  }\r\n\r\n  saveClientInfo() {\r\n    let data = {\r\n      clientID: this.state.client.id,\r\n      clientDetails: this.state.client,\r\n    }\r\n    console.log(\"START SAVE CLIENT\")\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/saveCustomerDetails\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (results) => {\r\n        console.log(\"retrievedClient:\", results)\r\n        let newClient = { ...this.state.client, ...results }\r\n        this.setState({\r\n          ...this.state, client: newClient, isRetrievingClient: false\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n  getProductName(productId:string) {\r\n    console.log (\"Getting ProductName\")\r\n    let data={\r\n      productID:productId\r\n    }\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/getProductName\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (results) => {\r\n        console.log(\"productName:\", results)\r\n        let newProductName={productName:results.productname}\r\n        let newQuotation={...this.state.quotation, ...newProductName}\r\n        this.setState({\r\n          ...this.state, quotation: newQuotation\r\n        });\r\n      }\r\n    })\r\n  }\r\n\r\n  setFileId(id:string) {\r\n    this.setState ({\r\n      fileId:id\r\n    })\r\n\r\n  }\r\n\r\n  urlParameter(name: string) {\r\n    name = name.replace(/[\\[]/, \"\\\\[\").replace(/[\\]]/, \"\\\\]\");\r\n    var regex = new RegExp(\"[\\\\?&]\" + name + \"=([^&#]*)\"),\r\n      results = regex.exec(location.search);\r\n    return results === null ? null : decodeURIComponent(results[1].replace(/\\+/g, \" \"));\r\n  }\r\n}\r\nexport default WizardApp;\r\n","import React from 'react';\r\nimport jQuery from \"jquery\";\r\nimport \"../css/App.css\";\r\nimport { KeyValue } from '../types/index'\r\n\r\nexport interface Subject {\r\n  name: string;\r\n}\r\n\r\nexport interface ChooseSubjectProps {\r\n  subject: Subject;\r\n  productName:string|null;\r\n  onFieldChange(event: KeyValue): void;\r\n  stepButtonStatus(prevStatus: boolean, nextStatus: boolean): void\r\n}\r\n\r\nexport default class ChooseSubject extends React.Component<ChooseSubjectProps, {}> {\r\n  constructor(props: ChooseSubjectProps) {\r\n    super(props);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stepButtonStatus(false, (this.props.subject.name.length > 2));\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"formContainer\">\r\n        <h2><div className=\"productName\">{this.props.productName}</div></h2>\r\n        <input id=\"name\" placeholder=\"persoon of bedrijf\"\r\n          value={this.props.subject.name} onChange={this.handleChange} />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  handleChange(event: (React.ChangeEvent<HTMLInputElement> | React.ChangeEvent<HTMLSelectElement>)): void {\r\n    this.props.onFieldChange({ [event.target.id]: event.target.value })\r\n    this.props.stepButtonStatus(false, (event.target.value.length > 2));\r\n  }\r\n}","import React, { Component } from 'react';\r\nimport jQuery from \"jquery\";\r\nimport { Client } from './ScanWizard'\r\nimport { isNull } from 'util';\r\n\r\nexport interface DownloadProps {\r\n  fileId: string;\r\n  licenseId: string | null;\r\n  sku: string | null;\r\n  emailAddress: string | null;\r\n}\r\n\r\nexport interface DownloadState {\r\n  reportCreationStatus: string;\r\n  startedTime: Date;\r\n  timedOut: boolean;\r\n  isLicensing: boolean;\r\n  isMailing: boolean;\r\n}\r\n\r\n\r\nexport default class Download extends Component<DownloadProps, DownloadState> {\r\n\r\n  watchTimeout: any;\r\n\r\n  constructor(props: DownloadProps) {\r\n    super(props)\r\n    this.downloadReport = this.downloadReport.bind(this)\r\n    this.licenseReport = this.licenseReport.bind(this)\r\n    this.state = {\r\n      reportCreationStatus: \"paid\",\r\n      startedTime: new Date(),\r\n      timedOut: false,\r\n      isLicensing: false,\r\n      isMailing: false\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.licenseReport()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"DownloadForm\">\r\n        Rapport Downloaden\r\n          {this.state.isLicensing && <div className=\"justify\">\r\n          <div className=\"paymentComponent\">Uw rapport wordt gelicenseerd...</div>\r\n          <div className=\"lds-dual-ring\"></div>\r\n        </div>\r\n        }\r\n        {this.state.isMailing && <div>\r\n          <div className=\"paymentComponent\">Uw rapport wordt nu gedownload en gemaild naar: {this.props.emailAddress}</div>\r\n        </div>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n\r\n  licenseReport() {\r\n    console.log(\"Start Report Creation\")\r\n    let data = {\r\n      sku: this.props.sku,\r\n      licenseKey: this.props.licenseId,\r\n      id: this.props.fileId,\r\n      email: this.props.emailAddress\r\n    }\r\n    this.setState({ isLicensing: true });\r\n\r\n    let componentHandle = this\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/licenseReport\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (result) => {\r\n        console.log(\"RESULT:\", result)\r\n        componentHandle.setState({\r\n          isLicensing: false,\r\n          isMailing: result.result === \"success\"\r\n        })\r\n        if (result.result === \"success\") {\r\n          console.log(\"Start DownLoad\")\r\n          componentHandle.downloadReport()\r\n        }\r\n      },\r\n\r\n\r\n      error: (error) => {\r\n        console.log(error)\r\n      }\r\n    })\r\n\r\n  }\r\n\r\n  testMobile() {\r\n    let isMobile = {\r\n      Android: function () { return navigator.userAgent.match(/Android/i); },\r\n      BlackBerry: function () { return navigator.userAgent.match(/BlackBerry/i); },\r\n      iOS: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i); },\r\n      Opera: function () { return navigator.userAgent.match(/Opera Mini/i); },\r\n      Windows: function () { return navigator.userAgent.match(/IEMobile/i); },\r\n      any: function () { return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows()); }\r\n    };\r\n    return isMobile\r\n\r\n  }\r\n\r\n  downloadReport() {\r\n    let view = (this.testMobile().any() !== null)\r\n    let serviceUrl = \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/downLoadReport\"\r\n    console.log(serviceUrl)\r\n    let fileName = this.props.fileId\r\n    let reportUrl=serviceUrl + \"?id=\" + fileName + \"&emailAddress=\" + this.props.emailAddress + \"&view=\" + view\r\n    if (!view) {\r\n      this.downloadFile(reportUrl)\r\n    }\r\n    else {\r\n      window.open(reportUrl,'_self')\r\n    }\r\n  }\r\n\r\n  downloadFile(sUrl: string) {\r\n    const isChrome = navigator.userAgent.toLowerCase().indexOf('chrome') > -1;\r\n    const isSafari = navigator.userAgent.toLowerCase().indexOf('safari') > -1;\r\n\r\n    //iOS devices do not support downloading. We have to inform user about this.\r\n    if (/(iP)/g.test(navigator.userAgent)) {\r\n      alert('Your device does not support files downloading. Please try again in desktop browser.');\r\n      return false;\r\n    }\r\n    //If in Chrome or Safari - download via virtual link click\r\n    if (isChrome || isSafari) {\r\n      //Creating new link node.\r\n      var link = document.createElement('a');\r\n      link.href = sUrl;\r\n\r\n      if (link.download !== undefined) {\r\n        //Set HTML5 download attribute. This will prevent file from opening if supported.\r\n        var fileName = sUrl.substring(sUrl.lastIndexOf('/') + 1, sUrl.length);\r\n        link.download = fileName;\r\n      }\r\n\r\n      //Dispatching click event.\r\n      if (document.createEvent) {\r\n        var e = document.createEvent('MouseEvents');\r\n        e.initEvent('click', true, true);\r\n        link.dispatchEvent(e);\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // Force file download (whether supported by server).\r\n    if (sUrl.indexOf('?') === -1) {\r\n      sUrl += '?download';\r\n    }\r\n\r\n    window.open(sUrl, '_self');\r\n    return true;\r\n\r\n  }\r\n\r\n\r\n\r\n\r\n}","import React, { Component } from 'react';\r\nimport \"../css/App.css\";\r\nimport jQuery from \"jquery\";\r\nimport { Subject } from './ChooseSubject';\r\nimport { Client } from './ScanWizard';\r\nimport { KeyValue } from '../types';\r\n\r\n\r\nexport interface ReportSummary {\r\n  token:string;\r\n  clientInfo: string;\r\n  subjectInfo: string;\r\n  productInfo: string;\r\n  voucherInfo: string;\r\n  subTotal: number;\r\n  tax: number;\r\n  total:number;\r\n}\r\n\r\nexport interface CreateReportProps {\r\n  subject: Subject;\r\n  sku:string|null;\r\n  client: Client;\r\n  licenceKey:string|null;\r\n  stepButtonStatus(prevStatus: boolean, nextStatus: boolean): void;\r\n  setFileId(id:string):void;\r\n}\r\n\r\nexport interface CreateReportState {\r\n  reportSummary: ReportSummary | null;\r\n  isGettingReportSummary:boolean;\r\n  isCreatingReport:boolean;\r\n  fileId:string;\r\n}\r\n\r\nexport default class CreateReport extends Component<CreateReportProps, CreateReportState> {\r\n  watchTimeout: any;\r\n  constructor(props: CreateReportProps) {\r\n    super(props)\r\n    this.state = {\r\n      reportSummary:null,\r\n      isGettingReportSummary:false,\r\n      isCreatingReport:false,\r\n      fileId:\"\"\r\n    }\r\n    this.startReportCreation = this.startReportCreation.bind(this);\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.stepButtonStatus(true, false)\r\n    this.startReportCreation()\r\n    //  this.getQuotation(this.props)\r\n  }\r\n\r\n  render() {\r\n    console.log(\"Payment component State :\", this.state)\r\n    console.log(\"Payment component Props :\", this.props)\r\n    let key = 0;\r\n    return (\r\n      <div>\r\n        {this.state.isCreatingReport && \r\n          <div className=\"justify\">\r\n            <div className=\"paymentComponent\">Uw rapport wordt gegenereerd...</div>\r\n            <div className=\"lds-dual-ring\"></div>\r\n          </div>\r\n        }\r\n        {this.state.fileId!==\"\" && !this.state.isCreatingReport && <div>\r\n          Uw rapport is gecreeerd. <br></br>\r\n          De volgende licentiekey wordt gebruikt voor het downloaden<br></br>\r\n          {this.props.licenceKey}\r\n        </div>}\r\n      \r\n    </div>\r\n    );\r\n  }\r\n\r\n\r\n  startReportCreation(){\r\n    console.log (\"Start Report Creation\")\r\n    let data={\r\n      sku:this.props.sku,\r\n      subject:this.props.subject.name,\r\n      client:this.props.client\r\n    }\r\n    this.setState({isCreatingReport:true})\r\n\r\n    let componentHandle = this\r\n    jQuery.ajax({\r\n      type: \"POST\",\r\n      url: \"https://us-central1-test-firebase-functions-51beb.cloudfunctions.net/startReportCreation\",\r\n      contentType: \"application/json; charset=utf-8\",\r\n      dataType: \"json\",\r\n      data: JSON.stringify(data),\r\n      success: (result) => {\r\n        console.log(result)\r\n        componentHandle.setState({\r\n          isCreatingReport:false,\r\n          fileId:result.id\r\n        },()=>{\r\n          this.props.setFileId(this.state.fileId)\r\n        })\r\n        this.props.stepButtonStatus(false,true)\r\n      },\r\n\r\n      error: (error) => {\r\n        console.log(error)\r\n      }\r\n    })\r\n  }\r\n\r\n\r\n}","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport WizardApp from './components/ScanWizard';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<WizardApp />, document.getElementById('reactRoot'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}